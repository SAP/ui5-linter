# Snapshot report for `test/lib/autofix/autofix.projects.ts`

The actual snapshot is saved in `autofix.projects.ts.snap`.

Generated by [AVA](https://avajs.dev).

## lint: All files of library with sap.ui.unified namespace

> Snapshot 1

    [
      {
        coverageInfo: [],
        errorCount: 2,
        fatalErrorCount: 0,
        filePath: 'src/sap/ui/unified/ColorPicker.js',
        messages: [
          {
            column: 22,
            line: 10,
            message: 'Access of global variable \'sap\' (sap.ui.unified.ColorPicker)',
            ruleId: 'no-globals',
            severity: 2,
          },
          {
            column: 39,
            line: 20,
            message: 'Access of module \'sap/ui/unified/ColorPickerDisplayMode\' (Library.ColorPickerDisplayMode) not exported by library \'sap/ui/unified/library\'',
            ruleId: 'no-implicit-globals',
            severity: 2,
          },
        ],
        warningCount: 0,
      },
      {
        coverageInfo: [],
        errorCount: 1,
        fatalErrorCount: 0,
        filePath: 'src/sap/ui/unified/library.js',
        messages: [
          {
            column: 22,
            line: 45,
            message: 'Access of global variable \'sap\' (sap.ui.unified)',
            ruleId: 'no-globals',
            severity: 2,
          },
        ],
        warningCount: 0,
      },
    ]

> AutofixResult iteration #0: /resources/sap/ui/unified/ColorPicker.js

    `sap.ui.define([␊
    	// This file covers the case where a framework library contains a relative import␊
    	// to a library module from which an implicit global is accessed.␊
    	"./library"␊
    ], function (Library) {␊
    	"use strict";␊
    ␊
    	// This global usage should not be replaced with an import of sap/ui/unified/ColorPicker␊
    	// as it would import the module itself.␊
    	const ColorPicker = sap.ui.unified.ColorPicker;␊
    ␊
    	// This global usage should re-use the import of sap/ui/unified/library␊
    	// even thought it is relative to the current module and not absolute.␊
    	var ColorPickerModeViaGlobal = Library.ColorPickerMode;␊
    ␊
    	var ColorPickerMode = Library['ColorPickerMode'];␊
    ␊
    	// This is a special case as ColorPickerDisplayMode is defined in its own module but also exported via the library module.␊
    	// However, this export from the library module is not reflected in the types / api.json, so it is still reported as implicit global usage.␊
    	var ColorPickerDisplayMode = Library['ColorPickerDisplayMode'];␊
    });␊
    `

> AutofixResult iteration #0: /resources/sap/ui/unified/Foo.js

    `// This file ensures that relative paths are correctly resolved when auto-fixing globals␊
    // and that existing unnamed imports keeping their relative path.␊
    sap.ui.define(["../unified/library"], function(unifiedLibrary) {␊
    	var ColorPickerMode = unifiedLibrary.ColorPickerMode;␊
    });␊
    `
